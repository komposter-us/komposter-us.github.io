let round=1;const btnRound=document.querySelector(".btn-round"),btnText=document.querySelector(".round-text");btnRound.addEventListener("click",(function(){btnText.textContent=++round,updateRoundCards()}));const AliveStatus={Unknown:0,Defended:1,Suspect:2,Crewmate:3,Imposter:4},statusName=["?","К","Ч","М","И","У"],statusText=["Неизвестный","Красный","Черный","Мирный","Импостер","Убит"],crewmateColor=["#C51111","#132ED1","#117F2D","#ED54BA","#EF7D0E","#F6F658","#3F474E","#D6E0F0","#6B31BC","#71491E","#38FEDB","#50EF39"],cardContainter=document.querySelector(".card-containter");for(const[t,e]of crewmateColor.entries()){const n=document.createElement("div");n.classList.add("card-rounds"),createRoundCard(n,AliveStatus.Unknown);const a=document.createElement("div");a.classList.add("card-status");for(let t=1;t<statusText.length;t++){const e=document.createElement("button");e.classList.add("btn-status"),e.dataset.status=t,e.append(document.createTextNode(statusText[t])),a.append(e),e.addEventListener("click",btnStatusCallback)}const s=document.createElement("div");s.classList.add("card"),s.dataset.card=t,s.style.backgroundColor=e,s.append(n),s.append(a),cardContainter.append(s)}function btnStatusCallback(){const t=this.parentElement.parentElement,e=t.firstElementChild,n=e.querySelectorAll("*").length;console.log(`Card: ${t.dataset.card}, status: ${this.dataset.status}, statusCount: ${n}`),n<round?createRoundCard(e,this.dataset.status):e.lastElementChild.innerHTML=statusName[this.dataset.status]}function createRoundCard(t,e){console.log(statusName[e]);const n=document.createElement("div");n.classList.add("card-round"),n.innerHTML=statusName[e],t.append(n)}function updateRoundCards(){const t=document.querySelectorAll(".card-rounds");console.log(t);for(const e of t)e.querySelectorAll("*").length<round&&createRoundCard(e,AliveStatus.Unknown)}